<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<head>
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<link rel="stylesheet" type="text/css" href="/resources/css/style.css" />
		<link rel="stylesheet" type="text/css" href="/resources/css/foundation.css" />
	  <link rel="stylesheet" type="text/css" href="/resources/css/normalize.css" />
	  <link rel="stylesheet" type="text/css" href="/resources/css/slick.css" />
	  <!-- <link rel="stylesheet" type="text/css" href="/include/misc/php-calendar/css/style.css" /> -->
	  <link rel="stylesheet" type="text/css" href="/resources/css/style.css" />
    
    <script type="text/javascript" src="/resources/js/vendor/modernizr.js"></script>
		
		<title th:text="#{home.title}">Buchhandlung Schiller</title>
	
	</head>
	<body>
		<div class="off-canvas-wrap" data-offcanvas="">
			<div class="fixed" th:include="topbar :: topbar"></div>
	    <div class="inner-wrap">
	    	<aside class="left-off-canvas-menu" aria-hidden="true">
	    		<nav th:include="navigation :: navigation"></nav>
	    	</aside>
	    	<div class="main-content">
		    	<header class="large-12 medium-12 show-for-landscape show-for-medium-up">
		        <div class="panel">
		          <div class="header-slider" th:include="slider :: slider"></div>
		        </div>
		      </header>
	        <div class="large-12">&nbsp;</div>
	        <div class="large-12 medium-12 small-12 columns">
	          <h2>Warenkorb</h2>
	          <div th:unless="${cart.empty}">
							<table class="large-12 medium-12 small-12">
								<thead class="panel">
									<tr>
										<th class="large-4 medium-4 small-4" th:text="#{cart.title}">Titel</th>
										<th class="large-2 medium-2 small-2" th:text="#{cart.count}">Anzahl</th>
										<th class="large-2 medium-2 small-2" th:text="#{cart.price}">Preis</th>
										<th class="large-2 medium-2 small-2">Links</th>
									</tr>
								</thead>
								<tbody th:remove="all-but-first">
			
									<tr th:each="orderline : ${cart} ">
										<td class="large-4 medium-4 small-4" th:text="${orderline.productName}">Last Action Hero</td>
										<td class="large-2 medium-2 small-2" th:text="${orderline.quantity}">10</td>
										<td class="large-2 medium-2 small-2" th:text="${orderline.price}">10 Euro</td>
										<td class="large-2 medium-2 small-2"> 
											<form class="right" method="POST" action="delete">
												<input class="button" type="submit" value="löschen"/> 
											</form>
										</td>
									</tr>				
								</tbody>
							</table>
							<p th:text="#{cart.total} + ': ' + ${cart.totalPrice}">Summe: 100 Euro</p>
							<div class="salespoint" sec:authorize="hasRole('ROLE_CUSTOMER')">
								<form method="post" action="checkout">
									<input type="submit" th:value="#{cart.buy}" value="Kaufen" />
								</form>
							</div>
							
							<div class="salespoint" >
								<form method="post" action="clear">	
									<input class="button secondary" type="submit" th:value="#{cart.clear}" value="Löschen" />
								</form>
							</div>
						</div>
						<p th:if="${cart.empty}" th:text="#{cart.empty}">Leer</p>
					</div>
	    	</div>
	    </div>
		</div>
	  <script type="text/javascript" src="/resources/js/vendor/jquery.js"></script>
	  <script type="text/javascript" src="/resources/js/vendor/fastclick.js"></script>
	  <script type="text/javascript" src="/resources/js/foundation.min.js"></script>
	  <script type="text/javascript" src="/resources/js/vendor/slick.min.js"></script>
	  <script type="text/javascript">
	    $(document).foundation(
	      {
	        accordion: {
	          content_class: 'content',
	          active_class: 'active',
	          toggleable: true
	        }
	      }
	    );
	  </script>
	  <script type="text/javascript">  
	    $(document).ready(function(){
	      $('.header-slider').slick({
	        dots: true,
	        infinite: true,
	        lazyLoad: 'ondemand',
	        slidesToShow: 1,
	        slidesToScroll: 1,
	        autoplay: true,
	        autoplaySpeed: 3000,
	      });
	    });
	  </script>
	</body>
</html>
